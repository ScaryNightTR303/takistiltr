<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HızlıAlış</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    body { font-family: 'Poppins', sans-serif; }
    #hesapPanel {
      position: fixed;
      top: 0; right: 0;
      width: 280px; height: 100vh;
      background: white;
      box-shadow: -4px 0 8px rgba(0,0,0,0.2);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1100;
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }
    #hesapPanel.active { transform: translateX(0); }
    
    #sepetPanel {
      position: fixed;
      top: 0; right: 280px;
      width: 300px; height: 100vh;
      background: #f9fafb;
      box-shadow: -4px 0 8px rgba(0,0,0,0.1);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1050;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      overflow-y: auto;
    }
    #sepetPanel.active { transform: translateX(0); }

    #girisPanel, #kayitPanel {
      max-width: 400px;
      margin: 3rem auto;
      padding: 1rem;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    #urunDetayPanel {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.7);
      display: none;
      z-index: 1200;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
    #urunDetayPanel.active {
      display: flex;
    }
    #urunDetayPanel > .content {
      background: white;
      max-width: 900px;
      width: 100%;
      border-radius: 8px;
      overflow-y: auto;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      position: relative;
    }
    #urunDetayPanel img.main-image {
      width: 100%;
      max-height: 400px;
      object-fit: contain;
      border-radius: 6px;
      margin-bottom: 1rem;
    }
    #urunDetayPanel .thumbnail-list {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      overflow-x: auto;
    }
    #urunDetayPanel .thumbnail-list img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 6px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border-color 0.2s ease;
    }
    #urunDetayPanel .thumbnail-list img.active {
      border-color: #2563eb; /* Tailwind blue-600 */
    }
    #urunDetayPanel button.close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2rem;
      background: none;
      border: none;
      cursor: pointer;
      color: #555;
    }

    main#urunler {
      max-width: 1200px;
      margin: 2rem auto;
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
      gap: 1.5rem;
    }
    main#urunler > div {
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      transition: box-shadow 0.3s ease;
    }
    main#urunler > div:hover {
      box-shadow: 0 0 15px rgba(37, 99, 235, 0.6);
    }
    main#urunler img {
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    main#urunler .product-info {
      padding: 1rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    main#urunler .product-info h3 {
      font-weight: 700;
      font-size: 1.125rem;
      margin-bottom: 0.25rem;
    }
    main#urunler .product-info p.description {
      flex-grow: 1;
      font-size: 0.875rem;
      color: #4b5563; /* gray-700 */
      margin-bottom: 0.75rem;
    }
    main#urunler .product-info p.price {
      font-weight: 600;
      color: #16a34a; /* green-600 */
      font-size: 1.125rem;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- HEADER -->
  <header class="bg-blue-900 text-white p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold">HızlıAlış</h1>
    <nav id="topNav" class="flex items-center gap-3">
      <button onclick="girisPanelGoster()" id="btnGiris" class="px-4 py-2 bg-blue-700 rounded hover:bg-blue-600">Giriş Yap</button>
      <button onclick="kayitPanelGoster()" id="btnKayit" class="px-4 py-2 bg-green-700 rounded hover:bg-green-600">Kayıt Ol</button>
      <button onclick="toggleHesapPanel()" id="btnHesap" class="hidden relative">
        <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="Hesap" class="w-8 h-8 rounded-full" />
        <span id="sepetAdet" class="absolute -top-1 -right-1 bg-red-600 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center">0</span>
      </button>
    </nav>
  </header>

  <!-- GİRİŞ PANELİ -->
  <section id="girisPanel">
    <h2 class="text-xl font-bold mb-4">Giriş Yap</h2>
    <input id="girisKullanici" type="text" placeholder="Kullanıcı Adı" class="border p-2 mb-3 w-full rounded" />
    <input id="girisSifre" type="password" placeholder="Şifre" class="border p-2 mb-4 w-full rounded" />
    <button onclick="girisYap()" class="bg-blue-700 text-white px-4 py-2 rounded w-full">Giriş Yap</button>
  </section>

  <!-- KAYIT PANELİ -->
  <section id="kayitPanel" style="display:none;">
    <h2 class="text-xl font-bold mb-4">Kayıt Ol</h2>
    <input id="kayitKullanici" type="text" placeholder="Kullanıcı Adı" class="border p-2 mb-3 w-full rounded" />
    <input id="kayitSifre" type="password" placeholder="Şifre" class="border p-2 mb-3 w-full rounded" />
    <input id="kayitTel" type="tel" placeholder="Telefon" class="border p-2 mb-3 w-full rounded" />

    <input id="kayitIl" list="ilListesi" placeholder="İl" class="border p-2 mb-3 w-full rounded" autocomplete="off" />
    <datalist id="ilListesi"></datalist>

    <input id="kayitIlce" list="ilceListesi" placeholder="İlçe" class="border p-2 mb-3 w-full rounded" autocomplete="off" />
    <datalist id="ilceListesi"></datalist>

    <input id="kayitAdres" type="text" placeholder="Açık Adres" class="border p-2 mb-3 w-full rounded" />
    <input id="kayitPosta" type="text" placeholder="Posta Kodu" class="border p-2 mb-3 w-full rounded" />
    <button onclick="kayitOl()" class="bg-green-700 text-white px-4 py-2 rounded w-full">Kayıt Ol</button>
  </section>

  <!-- HESAP PANELİ -->
  <aside id="hesapPanel">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Hesabım</h2>
      <button onclick="toggleHesapPanel()" class="text-2xl font-bold">&times;</button>
    </div>
    <div id="hesapBilgi" class="flex-1 overflow-y-auto mb-4">
      <p class="mb-2 font-medium">Hoş geldiniz!</p>
      <p>Kullanıcı: <span id="aktifKullaniciAdi"></span></p>
    </div>
    <button id="adminPanelBtn" onclick="adminPanelGoster()" class="hidden bg-purple-700 text-white px-4 py-2 rounded mb-2">Admin Panel</button>
    <button onclick="cikisYap()" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-500">Çıkış Yap</button>
  </aside>

  <!-- SEPET PANELİ -->
  <aside id="sepetPanel">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Sepetim</h2>
      <button onclick="toggleSepetPanel()" class="text-2xl font-bold">&times;</button>
    </div>
    <div id="sepetIcerik" class="flex-1 overflow-y-auto mb-4">
      <p class="text-gray-500">Sepetiniz boş.</p>
    </div>
    <button onclick="siparisVer()" class="bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50" id="btnSiparis" disabled>Sipariş Ver</button>
  </aside>

  <!-- ÜRÜNLER -->
  <main id="urunler" style="display:none;">
    <!-- JS ile ürünler yüklenecek -->
  </main>

  <!-- ÜRÜN DETAY PANELİ -->
  <div id="urunDetayPanel">
    <div class="content">
      <button class="close-btn" onclick="kapatDetay()">&times;</button>
      <img src="" alt="Ürün Ana Resim" class="main-image" id="detayResim" />
      <div class="thumbnail-list" id="thumbnailList"></div>
      <h2 id="detayBaslik" class="text-2xl font-bold mb-2"></h2>
      <p id="detayAciklama" class="mb-2"></p>
      <p id="detayFiyat" class="text-xl font-semibold text-green-700 mb-4"></p>
      <p id="detayTarih" class="text-sm text-gray-600 mb-6"></p>
      <button onclick="sepeteEkle()" id="btnSepeteEkle" class="bg-green-700 text-white px-6 py-2 rounded hover:bg-green-600">Sepete Ekle</button>
    </div>
  </div>

<script>
  // Kullanıcılar
  let users = { admin: 'admin1212' };
  let aktifKullanici = null;

  // Ürünler (örnek bir ürüne birden fazla resim eklenmiş)
  let urunler = [];
  for(let i=1; i<=12; i++) {
    urunler.push({
      id: i,
      ad: `Ürün ${i}`,
      aciklama: `Bu ürün ${i} açıklamasıdır. Ürün hakkında detaylı bilgiler buraya gelecek.`,
      fiyat: `${100 + i*10} TL`,
      tarih: '24.06.2025',
      resimler: [
        `https://picsum.photos/seed/${i}a/800/600`,
        `https://picsum.photos/seed/${i}b/800/600`,
        `https://picsum.photos/seed/${i}c/800/600`
      ]
    });
  }

  // Sepet (ürün id -> adet)
  let sepet = {};
  let aktifUrun = null;

  // DOM elementleri
  const girisPanel = document.getElementById('girisPanel');
  const kayitPanel = document.getElementById('kayitPanel');
  const hesapPanel = document.getElementById('hesapPanel');
  const sepetPanel = document.getElementById('sepetPanel');
  const urunlerContainer = document.getElementById('urunler');
  const urunDetayPanel = document.getElementById('urunDetayPanel');
  const sepetIcerik = document.getElementById('sepetIcerik');
  const sepetAdetSpan = document.getElementById('sepetAdet');
  const btnSiparis = document.getElementById('btnSiparis');
  const adminPanelBtn = document.getElementById('adminPanelBtn');
  const aktifKullaniciAdiSpan = document.getElementById('aktifKullaniciAdi');
  const detayResim = document.getElementById('detayResim');
  const thumbnailList = document.getElementById('thumbnailList');

  // İl/ilçe listesi
  const ilceler = {
    'İstanbul': ['Kadıköy', 'Beşiktaş', 'Üsküdar'],
    'Ankara': ['Çankaya', 'Keçiören', 'Sincan'],
  };
  const ilInput = document.getElementById('kayitIl');
  const ilceInput = document.getElementById('kayitIlce');
  const ilListesi = document.getElementById('ilListesi');
  const ilceListesi = document.getElementById('ilceListesi');

  function ilDoldur() {
    ilListesi.innerHTML = '';
    Object.keys(ilceler).forEach(il => {
      const option = document.createElement('option');
      option.value = il;
      ilListesi.appendChild(option);
    });
  }

  function ilceDoldur(il) {
    ilceListesi.innerHTML = '';
    if(ilceler[il]) {
      ilceler[il].forEach(ilce => {
        const option = document.createElement('option');
        option.value = ilce;
        ilceListesi.appendChild(option);
      });
    }
  }

  ilInput.addEventListener('input', () => {
    ilceInput.value = '';
    ilceDoldur(ilInput.value);
  });

  ilDoldur();

  // Panel gösterme fonksiyonları
  function girisPanelGoster() {
    girisPanel.style.display = 'block';
    kayitPanel.style.display = 'none';
    urunlerContainer.style.display = 'none';
    hesapPanel.classList.remove('active');
    sepetPanel.classList.remove('active');
    adminPanelBtn.classList.add('hidden');
    aktifKullanici = null;
    aktifKullaniciAdiSpan.textContent = '';
    sepetAdetSpan.textContent = '0';
  }

  function kayitPanelGoster() {
    kayitPanel.style.display = 'block';
    girisPanel.style.display = 'none';
    urunlerContainer.style.display = 'none';
    hesapPanel.classList.remove('active');
    sepetPanel.classList.remove('active');
    adminPanelBtn.classList.add('hidden');
  }

  function toggleHesapPanel() {
    hesapPanel.classList.toggle('active');
  }
  function toggleSepetPanel() {
    sepetPanel.classList.toggle('active');
  }

  // Giriş yap
  function girisYap() {
    const kullanici = document.getElementById('girisKullanici').value.trim();
    const sifre = document.getElementById('girisSifre').value;
    if(users[kullanici] && users[kullanici] === sifre) {
      aktifKullanici = kullanici;
      aktifKullaniciAdiSpan.textContent = kullanici;
      document.getElementById('btnGiris').classList.add('hidden');
      document.getElementById('btnKayit').classList.add('hidden');
      document.getElementById('btnHesap').classList.remove('hidden');
      girisPanel.style.display = 'none';
      kayitPanel.style.display = 'none';
      urunlerContainer.style.display = 'grid';
      hesapPanel.classList.add('active');
      sepetPanel.classList.remove('active');
      adminPanelBtn.classList.toggle('hidden', kullanici !== 'admin');
      urunleriYukle();
    } else {
      alert('Hatalı kullanıcı adı veya şifre.');
    }
  }

  // Kayıt ol
  function kayitOl() {
    const kullanici = document.getElementById('kayitKullanici').value.trim();
    const sifre = document.getElementById('kayitSifre').value;
    if(!kullanici || !sifre) {
      alert('Kullanıcı adı ve şifre boş olamaz.');
      return;
    }
    if(users[kullanici]) {
      alert('Bu kullanıcı adı zaten mevcut.');
      return;
    }
    users[kullanici] = sifre;
    alert('Kayıt başarılı, lütfen giriş yapınız.');
    kayitPanel.style.display = 'none';
    girisPanel.style.display = 'block';
  }

  // Çıkış yap
  function cikisYap() {
    aktifKullanici = null;
    document.getElementById('btnGiris').classList.remove('hidden');
    document.getElementById('btnKayit').classList.remove('hidden');
    document.getElementById('btnHesap').classList.add('hidden');
    urunlerContainer.style.display = 'none';
    hesapPanel.classList.remove('active');
    sepetPanel.classList.remove('active');
    girisPanel.style.display = 'block';
    sepet = {};
    sepetiGuncelle();
  }

  // Ürünleri yükle ve göster
  function urunleriYukle() {
    urunlerContainer.innerHTML = '';
    urunler.forEach(u => {
      const div = document.createElement('div');
      div.className = 'product-card';
      div.innerHTML = `
        <img src="${u.resimler[0]}" alt="${u.ad}" />
        <div class="product-info">
          <h3>${u.ad}</h3>
          <p class="description">${u.aciklama}</p>
          <p class="price">${u.fiyat}</p>
        </div>
      `;
      div.onclick = () => urunDetayGoster(u);
      urunlerContainer.appendChild(div);
    });
  }

  // Ürün detayını göster
  function urunDetayGoster(u) {
    aktifUrun = u;
    detayResim.src = u.resimler[0];
    detayResim.alt = u.ad;
    detayResim.setAttribute('data-index', '0');
    thumbnailList.innerHTML = '';
    u.resimler.forEach((img, idx) => {
      const t = document.createElement('img');
      t.src = img;
      if(idx === 0) t.classList.add('active');
      t.onclick = () => {
        detayResim.src = img;
        detayResim.setAttribute('data-index', idx);
        thumbnailList.querySelectorAll('img').forEach(im => im.classList.remove('active'));
        t.classList.add('active');
      };
      thumbnailList.appendChild(t);
    });
    document.getElementById('detayBaslik').textContent = u.ad;
    document.getElementById('detayAciklama').textContent = u.aciklama;
    document.getElementById('detayFiyat').textContent = u.fiyat;
    document.getElementById('detayTarih').textContent = `Yüklenme Tarihi: ${u.tarih}`;
    urunDetayPanel.classList.add('active');
  }

  // Ürün detay panelini kapat
  function kapatDetay() {
    urunDetayPanel.classList.remove('active');
    aktifUrun = null;
  }

  // Sepete ekle
  function sepeteEkle() {
    if(!aktifUrun) return;
    const id = aktifUrun.id;
    if(sepet[id]) sepet[id]++;
    else sepet[id] = 1;
    alert(`${aktifUrun.ad} sepete eklendi.`);
    sepetiGuncelle();
    kapatDetay();
    // Sepet panelini aç
    sepetPanel.classList.add('active');
  }

  // Sepeti güncelle
  function sepetiGuncelle() {
    sepetIcerik.innerHTML = '';
    const ids = Object.keys(sepet);
    sepetAdetSpan.textContent = ids.reduce((acc,id) => acc + sepet[id],0);
    if(ids.length === 0) {
      sepetIcerik.innerHTML = '<p class="text-gray-500">Sepetiniz boş.</p>';
      btnSiparis.disabled = true;
      return;
    }
    btnSiparis.disabled = false;

    ids.forEach(id => {
      const urun = urunler.find(u => u.id == id);
      const adet = sepet[id];
      const div = document.createElement('div');
      div.className = 'flex items-center justify-between mb-3 border-b pb-2';

      div.innerHTML = `
        <div>
          <p class="font-semibold">${urun.ad}</p>
          <p class="text-sm text-gray-600">${urun.fiyat} x ${adet} = ${parseInt(urun.fiyat) * adet} TL</p>
          <div class="flex items-center gap-2 mt-1">
            <button onclick="urunAzalt(${id})" class="bg-red-500 hover:bg-red-600 text-white px-2 rounded">-</button>
            <span>${adet}</span>
            <button onclick="urunArttir(${id})" class="bg-green-500 hover:bg-green-600 text-white px-2 rounded">+</button>
          </div>
        </div>
      `;
      sepetIcerik.appendChild(div);
    });
  }

  // Ürün azalt
  function urunAzalt(id) {
    if(sepet[id]) {
      sepet[id]--;
      if(sepet[id] <= 0) delete sepet[id];
      sepetiGuncelle();
    }
  }

  // Ürün arttır
  function urunArttir(id) {
    if(sepet[id]) {
      sepet[id]++;
      sepetiGuncelle();
    }
  }

  // Sipariş ver
  function siparisVer() {
    if(Object.keys(sepet).length === 0) {
      alert('Sepetiniz boş!');
      return;
    }
    alert('Siparişiniz alındı! Teşekkürler.');
    sepet = {};
    sepetiGuncelle();
    sepetPanel.classList.remove('active');
  }

  // Admin panel göster (alert ile basit)
  function adminPanelGoster() {
    alert('Admin panel açıldı. (Şimdilik sadece uyarı)');
  }

  // Başlangıçta giriş panelini göster
  girisPanelGoster();

</script>

</body>
</html>
