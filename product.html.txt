<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ürün Detayı</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Poppins', sans-serif; background: #f3f4f6; }
    .thumbnail {
      cursor: pointer;
      border: 2px solid transparent;
      border-radius: 0.375rem;
    }
    .thumbnail.active {
      border-color: #3b82f6;
    }
  </style>
</head>
<body class="min-h-screen">

  <header class="bg-blue-900 text-white p-4">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold cursor-pointer" onclick="goHome()">HızlıAlış</h1>
      <nav>
        <a href="index.html" class="hover:underline">Ana Sayfa</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto mt-8 flex flex-col md:flex-row gap-8 p-4 bg-white rounded shadow max-w-7xl">

    <!-- Sol: Ürün görselleri -->
    <section class="md:w-1/2">
      <img id="anaGorsel" src="" alt="Ürün Ana Görseli" class="w-full rounded mb-4 object-cover max-h-96" />
      <div id="galeri" class="flex gap-2 overflow-x-auto">
        <!-- Küçük görseller buraya gelecek -->
      </div>
    </section>

    <!-- Sağ: Ürün detayları -->
    <section class="md:w-1/2 flex flex-col justify-between">
      <div>
        <h2 id="urunIsim" class="text-3xl font-bold mb-4"></h2>
        <p id="urunAciklama" class="text-gray-700 mb-6"></p>
        <p class="text-xl font-semibold text-blue-700 mb-2" id="urunFiyat"></p>
        <p class="text-sm text-gray-500">Eklenme Tarihi: <span id="urunTarih"></span></p>
      </div>

      <div class="mt-12">
        <h3 class="text-xl font-semibold mb-4">Başka ürünlere göz atın</h3>
        <div id="digerUrunler" class="grid grid-cols-2 gap-4">
          <!-- Başka ürün kartları burada -->
        </div>
      </div>
    </section>

  </main>

  <footer class="bg-blue-900 text-white text-center p-4 mt-10">
    <p>&copy; 2025 HızlıAlış</p>
  </footer>

  <script>
    // Ana ürünler listesi (aynı index.html'deki ile aynı yapıda olmalı)
    const urunler = [
      {
        id: 1,
        isim: "Telefon X1",
        fiyat: 15000,
        aciklama: "Yüksek performanslı, şık tasarımlı telefon.",
        tarih: "2025-06-20",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Telefon+1-1",
          "https://via.placeholder.com/600x400?text=Telefon+1-2",
          "https://via.placeholder.com/600x400?text=Telefon+1-3"
        ]
      },
      {
        id: 2,
        isim: "Kulaklık Pro",
        fiyat: 500,
        aciklama: "Konforlu, kaliteli ses deneyimi.",
        tarih: "2025-05-10",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Kulaklık+1",
          "https://via.placeholder.com/600x400?text=Kulaklık+2"
        ]
      },
      {
        id: 3,
        isim: "Klavye Deluxe",
        fiyat: 1000,
        aciklama: "Ergonomik, dayanıklı klavye.",
        tarih: "2025-04-15",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Klavye+1",
          "https://via.placeholder.com/600x400?text=Klavye+2",
          "https://via.placeholder.com/600x400?text=Klavye+3"
        ]
      },
      {
        id: 4,
        isim: "Saat Elegance",
        fiyat: 2500,
        aciklama: "Şık tasarımlı ve dayanıklı kol saati.",
        tarih: "2025-03-20",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Saat+1",
          "https://via.placeholder.com/600x400?text=Saat+2"
        ]
      },
      {
        id: 5,
        isim: "Spor Ayakkabı",
        fiyat: 1200,
        aciklama: "Konforlu ve dayanıklı spor ayakkabı.",
        tarih: "2025-02-15",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Ayakkabı+1",
          "https://via.placeholder.com/600x400?text=Ayakkabı+2"
        ]
      },
      {
        id: 6,
        isim: "Sırt Çantası",
        fiyat: 800,
        aciklama: "Dayanıklı ve şık sırt çantası.",
        tarih: "2025-01-10",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Çanta+1",
          "https://via.placeholder.com/600x400?text=Çanta+2"
        ]
      },
      {
        id: 7,
        isim: "Bluetooth Hoparlör",
        fiyat: 700,
        aciklama: "Taşınabilir, kaliteli ses hoparlörü.",
        tarih: "2025-05-05",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Hoparlör+1",
          "https://via.placeholder.com/600x400?text=Hoparlör+2"
        ]
      },
      {
        id: 8,
        isim: "Kitap Okuyucu",
        fiyat: 950,
        aciklama: "E-kitap okuyucu cihazı, hafif ve kullanışlı.",
        tarih: "2025-04-20",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Kitap+1",
          "https://via.placeholder.com/600x400?text=Kitap+2"
        ]
      },
      {
        id: 9,
        isim: "Dijital Kamera",
        fiyat: 3000,
        aciklama: "Yüksek çözünürlüklü dijital fotoğraf makinesi.",
        tarih: "2025-03-05",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Kamera+1",
          "https://via.placeholder.com/600x400?text=Kamera+2",
          "https://via.placeholder.com/600x400?text=Kamera+3"
        ]
      },
      {
        id: 10,
        isim: "Fitness Bilekliği",
        fiyat: 600,
        aciklama: "Adım sayar ve kalp ritmi ölçer bileklik.",
        tarih: "2025-06-01",
        gorseller: [
          "https://via.placeholder.com/600x400?text=Bileklik+1",
          "https://via.placeholder.com/600x400?text=Bileklik+2"
        ]
      }
    ];

    // URL parametrelerinden ürün id'sini alma fonksiyonu
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    // Ana görsel ve galeri gösterimi
    function gorselDegistir(index) {
      document.getElementById('anaGorsel').src = currentProduct.gorseller[index];
      // Aktif thumb'u belirt
      const thumbs = document.querySelectorAll('.thumbnail');
      thumbs.forEach((t, i) => {
        t.classList.toggle('active', i === index);
      });
    }

    // Ana sayfaya git
    function goHome() {
      window.location.href = 'index.html';
    }

    let currentProduct = null;

    window.onload = () => {
      const id = parseInt(getQueryParam('id'));
      if (!id) {
        alert("Ürün ID bulunamadı.");
        goHome();
        return;
      }
      currentProduct = urunler.find(u => u.id === id);
      if (!currentProduct) {
        alert("Ürün bulunamadı.");
        goHome();
        return;
      }

      // Ürün bilgileri göster
      document.getElementById('urunIsim').textContent = currentProduct.isim;
      document.getElementById('urunAciklama').textContent = currentProduct.aciklama;
      document.getElementById('urunFiyat').textContent = currentProduct.fiyat + " TL";
      document.getElementById('urunTarih').textContent = currentProduct.tarih;

      // Ana görseli ilk resim olarak ayarla
      gorselDegistir(0);

      // Küçük resimleri oluştur
      const galeriDiv = document.getElementById('galeri');
      currentProduct.gorseller.forEach((url, i) => {
        const thumb = document.createElement('img');
        thumb.src = url;
        thumb.className = 'thumbnail w-20 h-20 object-cover rounded';
        thumb.onclick = () => gorselDegistir(i);
        if (i === 0) thumb.classList.add('active');
        galeriDiv.appendChild(thumb);
      });

      // Başka ürünlere göz atın (4 farklı ürün göster)
      const digerDiv = document.getElementById('digerUrunler');
      const digerUrunler = urunler.filter(u => u.id !== currentProduct.id).slice(0, 4);
      digerUrunler.forEach(u => {
        const kart = document.createElement('a');
        kart.href = `product.html?id=${u.id}`;
        kart.className = 'block bg-gray-100 rounded shadow hover:shadow-lg p-3 text-center transition';
        kart.innerHTML = `
          <img src="${u.gorseller[0]}" alt="${u.isim}" class="mx-auto mb-2 rounded object-cover h-24 w-full" />
          <h4 class="font-semibold">${u.isim}</h4>
          <p class="text-blue-700 font-bold">${u.fiyat} TL</p>
        `;
        digerDiv.appendChild(kart);
      });
    };
  </script>
</body>
</html>
